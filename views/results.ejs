<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/main.css">
  <title>Search Results</title>
</head>
<body>
  <header>
    <%- include('header.ejs') %>
  </header>
  <main>
    <h2>Search Results</h2>
    <section id="results">
      <% if (countries.length > 0) { %>
      <% countries.forEach(country => { %>
        <section class="result">
          <img src="<%- country.flag_url %>" alt="<%- country.name %> flag">
          <form action="/details" method="post">
            <input type="hidden" name="name" value="<%- country.name %>">
            <input type="hidden" name="language" value="<%- country.language %>">
            <input type="hidden" name="region" value="<%- country.region %>">
            <input type="hidden" name="subregion" value="<%- country.subregion %>">
            <input type="hidden" name="capital" value="<%- country.capital %>">
            <input type="hidden" name="currency" value="<%- country.currency %>">
            <input type="hidden" name="flag_url" value="<%- country.flag_url %>">
            <input type="hidden" name="currency_symbol" value="<%- country.currency_symbol %>">
            <input type="hidden" name="inDB" value="<%- false %>">
            <input type="hidden" name="alpha2Code" value="<%- country.alpha2Code %>">
            <button><%- country.name %></button>
          </form>
        </section>
      <% }) %>
      <% } else { %>
        <ul>
          <li id="nocountries">Oh no! It looks like none of the countries within the subregion you selected speak the language you chose.</li>
        </ul>
      <% } %>
    </section>
  </main>
  <footer>
    <%- include('footer.ejs') %>
  </footer>
</body>
</html>